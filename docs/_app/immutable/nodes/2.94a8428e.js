import{K as Ih,S as ma,i as ya,s as _a,y as Gh,z as Yh,A as Xh,I as Dh,g as Zh,d as Vh,B as Bh,o as Hh}from"../chunks/index.8dcf65ce.js";import{w as Wh}from"../chunks/index.1903f008.js";const It={};function ba(J){return J==="local"?localStorage:sessionStorage}function Yt(J,t,a){const s=(a==null?void 0:a.serializer)??JSON,l=(a==null?void 0:a.storage)??"local";function c(p,y){ba(l).setItem(p,s.stringify(y))}if(!It[J]){const p=Wh(t,b=>{const d=ba(l).getItem(J);d&&b(s.parse(d));{const m=z=>{z.key===J&&b(z.newValue?s.parse(z.newValue):null)};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)}}),{subscribe:y,set:g}=p;It[J]={set(b){c(J,b),g(b)},update(b){const d=b(Ih(p));c(J,d),g(d)},subscribe:y}}return It[J]}Yt("modeOsPrefers",!1);Yt("modeUserPrefers",void 0);Yt("modeCurrent",!1);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wa="153",it=2e3,pa=2001;function xa(J,t,a){return Math.max(t,Math.min(a,J))}class Oh{constructor(t=0,a=0,s=0,l=1){this.isQuaternion=!0,this._x=t,this._y=a,this._z=s,this._w=l}static slerpFlat(t,a,s,l,c,p,y){let g=s[l+0],b=s[l+1],d=s[l+2],m=s[l+3];const z=c[p+0],w=c[p+1],M=c[p+2],_=c[p+3];if(y===0){t[a+0]=g,t[a+1]=b,t[a+2]=d,t[a+3]=m;return}if(y===1){t[a+0]=z,t[a+1]=w,t[a+2]=M,t[a+3]=_;return}if(m!==_||g!==z||b!==w||d!==M){let N=1-y;const R=g*z+b*w+d*M+m*_,nr=R>=0?1:-1,ar=1-R*R;if(ar>Number.EPSILON){const j=Math.sqrt(ar),A=Math.atan2(j,R*nr);N=Math.sin(N*A)/j,y=Math.sin(y*A)/j}const Q=y*nr;if(g=g*N+z*Q,b=b*N+w*Q,d=d*N+M*Q,m=m*N+_*Q,N===1-y){const j=1/Math.sqrt(g*g+b*b+d*d+m*m);g*=j,b*=j,d*=j,m*=j}}t[a]=g,t[a+1]=b,t[a+2]=d,t[a+3]=m}static multiplyQuaternionsFlat(t,a,s,l,c,p){const y=s[l],g=s[l+1],b=s[l+2],d=s[l+3],m=c[p],z=c[p+1],w=c[p+2],M=c[p+3];return t[a]=y*M+d*m+g*w-b*z,t[a+1]=g*M+d*z+b*m-y*w,t[a+2]=b*M+d*w+y*z-g*m,t[a+3]=d*M-y*m-g*z-b*w,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,a,s,l){return this._x=t,this._y=a,this._z=s,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,a){const s=t._x,l=t._y,c=t._z,p=t._order,y=Math.cos,g=Math.sin,b=y(s/2),d=y(l/2),m=y(c/2),z=g(s/2),w=g(l/2),M=g(c/2);switch(p){case"XYZ":this._x=z*d*m+b*w*M,this._y=b*w*m-z*d*M,this._z=b*d*M+z*w*m,this._w=b*d*m-z*w*M;break;case"YXZ":this._x=z*d*m+b*w*M,this._y=b*w*m-z*d*M,this._z=b*d*M-z*w*m,this._w=b*d*m+z*w*M;break;case"ZXY":this._x=z*d*m-b*w*M,this._y=b*w*m+z*d*M,this._z=b*d*M+z*w*m,this._w=b*d*m-z*w*M;break;case"ZYX":this._x=z*d*m-b*w*M,this._y=b*w*m+z*d*M,this._z=b*d*M-z*w*m,this._w=b*d*m+z*w*M;break;case"YZX":this._x=z*d*m+b*w*M,this._y=b*w*m+z*d*M,this._z=b*d*M-z*w*m,this._w=b*d*m-z*w*M;break;case"XZY":this._x=z*d*m-b*w*M,this._y=b*w*m-z*d*M,this._z=b*d*M+z*w*m,this._w=b*d*m+z*w*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+p)}return a!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,a){const s=a/2,l=Math.sin(s);return this._x=t.x*l,this._y=t.y*l,this._z=t.z*l,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){const a=t.elements,s=a[0],l=a[4],c=a[8],p=a[1],y=a[5],g=a[9],b=a[2],d=a[6],m=a[10],z=s+y+m;if(z>0){const w=.5/Math.sqrt(z+1);this._w=.25/w,this._x=(d-g)*w,this._y=(c-b)*w,this._z=(p-l)*w}else if(s>y&&s>m){const w=2*Math.sqrt(1+s-y-m);this._w=(d-g)/w,this._x=.25*w,this._y=(l+p)/w,this._z=(c+b)/w}else if(y>m){const w=2*Math.sqrt(1+y-s-m);this._w=(c-b)/w,this._x=(l+p)/w,this._y=.25*w,this._z=(g+d)/w}else{const w=2*Math.sqrt(1+m-s-y);this._w=(p-l)/w,this._x=(c+b)/w,this._y=(g+d)/w,this._z=.25*w}return this._onChangeCallback(),this}setFromUnitVectors(t,a){let s=t.dot(a)+1;return s<Number.EPSILON?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*a.z-t.z*a.y,this._y=t.z*a.x-t.x*a.z,this._z=t.x*a.y-t.y*a.x,this._w=s),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(xa(this.dot(t),-1,1)))}rotateTowards(t,a){const s=this.angleTo(t);if(s===0)return this;const l=Math.min(1,a/s);return this.slerp(t,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,a){const s=t._x,l=t._y,c=t._z,p=t._w,y=a._x,g=a._y,b=a._z,d=a._w;return this._x=s*d+p*y+l*b-c*g,this._y=l*d+p*g+c*y-s*b,this._z=c*d+p*b+s*g-l*y,this._w=p*d-s*y-l*g-c*b,this._onChangeCallback(),this}slerp(t,a){if(a===0)return this;if(a===1)return this.copy(t);const s=this._x,l=this._y,c=this._z,p=this._w;let y=p*t._w+s*t._x+l*t._y+c*t._z;if(y<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,y=-y):this.copy(t),y>=1)return this._w=p,this._x=s,this._y=l,this._z=c,this;const g=1-y*y;if(g<=Number.EPSILON){const w=1-a;return this._w=w*p+a*this._w,this._x=w*s+a*this._x,this._y=w*l+a*this._y,this._z=w*c+a*this._z,this.normalize(),this._onChangeCallback(),this}const b=Math.sqrt(g),d=Math.atan2(b,y),m=Math.sin((1-a)*d)/b,z=Math.sin(a*d)/b;return this._w=p*m+this._w*z,this._x=s*m+this._x*z,this._y=l*m+this._y*z,this._z=c*m+this._z*z,this._onChangeCallback(),this}slerpQuaternions(t,a,s){return this.copy(t).slerp(a,s)}random(){const t=Math.random(),a=Math.sqrt(1-t),s=Math.sqrt(t),l=2*Math.PI*Math.random(),c=2*Math.PI*Math.random();return this.set(a*Math.cos(l),s*Math.sin(c),s*Math.cos(c),a*Math.sin(l))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,a=0){return this._x=t[a],this._y=t[a+1],this._z=t[a+2],this._w=t[a+3],this._onChangeCallback(),this}toArray(t=[],a=0){return t[a]=this._x,t[a+1]=this._y,t[a+2]=this._z,t[a+3]=this._w,t}fromBufferAttribute(t,a){return this._x=t.getX(a),this._y=t.getY(a),this._z=t.getZ(a),this._w=t.getW(a),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class gr{constructor(t=0,a=0,s=0){gr.prototype.isVector3=!0,this.x=t,this.y=a,this.z=s}set(t,a,s){return s===void 0&&(s=this.z),this.x=t,this.y=a,this.z=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,a){switch(t){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,a){return this.x=t.x+a.x,this.y=t.y+a.y,this.z=t.z+a.z,this}addScaledVector(t,a){return this.x+=t.x*a,this.y+=t.y*a,this.z+=t.z*a,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,a){return this.x=t.x-a.x,this.y=t.y-a.y,this.z=t.z-a.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,a){return this.x=t.x*a.x,this.y=t.y*a.y,this.z=t.z*a.z,this}applyEuler(t){return this.applyQuaternion(da.setFromEuler(t))}applyAxisAngle(t,a){return this.applyQuaternion(da.setFromAxisAngle(t,a))}applyMatrix3(t){const a=this.x,s=this.y,l=this.z,c=t.elements;return this.x=c[0]*a+c[3]*s+c[6]*l,this.y=c[1]*a+c[4]*s+c[7]*l,this.z=c[2]*a+c[5]*s+c[8]*l,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const a=this.x,s=this.y,l=this.z,c=t.elements,p=1/(c[3]*a+c[7]*s+c[11]*l+c[15]);return this.x=(c[0]*a+c[4]*s+c[8]*l+c[12])*p,this.y=(c[1]*a+c[5]*s+c[9]*l+c[13])*p,this.z=(c[2]*a+c[6]*s+c[10]*l+c[14])*p,this}applyQuaternion(t){const a=this.x,s=this.y,l=this.z,c=t.x,p=t.y,y=t.z,g=t.w,b=g*a+p*l-y*s,d=g*s+y*a-c*l,m=g*l+c*s-p*a,z=-c*a-p*s-y*l;return this.x=b*g+z*-c+d*-y-m*-p,this.y=d*g+z*-p+m*-c-b*-y,this.z=m*g+z*-y+b*-p-d*-c,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const a=this.x,s=this.y,l=this.z,c=t.elements;return this.x=c[0]*a+c[4]*s+c[8]*l,this.y=c[1]*a+c[5]*s+c[9]*l,this.z=c[2]*a+c[6]*s+c[10]*l,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,a){return this.x=Math.max(t.x,Math.min(a.x,this.x)),this.y=Math.max(t.y,Math.min(a.y,this.y)),this.z=Math.max(t.z,Math.min(a.z,this.z)),this}clampScalar(t,a){return this.x=Math.max(t,Math.min(a,this.x)),this.y=Math.max(t,Math.min(a,this.y)),this.z=Math.max(t,Math.min(a,this.z)),this}clampLength(t,a){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(a,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,a){return this.x+=(t.x-this.x)*a,this.y+=(t.y-this.y)*a,this.z+=(t.z-this.z)*a,this}lerpVectors(t,a,s){return this.x=t.x+(a.x-t.x)*s,this.y=t.y+(a.y-t.y)*s,this.z=t.z+(a.z-t.z)*s,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,a){const s=t.x,l=t.y,c=t.z,p=a.x,y=a.y,g=a.z;return this.x=l*g-c*y,this.y=c*p-s*g,this.z=s*y-l*p,this}projectOnVector(t){const a=t.lengthSq();if(a===0)return this.set(0,0,0);const s=t.dot(this)/a;return this.copy(t).multiplyScalar(s)}projectOnPlane(t){return Gt.copy(this).projectOnVector(t),this.sub(Gt)}reflect(t){return this.sub(Gt.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const a=Math.sqrt(this.lengthSq()*t.lengthSq());if(a===0)return Math.PI/2;const s=this.dot(t)/a;return Math.acos(xa(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const a=this.x-t.x,s=this.y-t.y,l=this.z-t.z;return a*a+s*s+l*l}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,a,s){const l=Math.sin(a)*t;return this.x=l*Math.sin(s),this.y=Math.cos(a)*t,this.z=l*Math.cos(s),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,a,s){return this.x=t*Math.sin(a),this.y=s,this.z=t*Math.cos(a),this}setFromMatrixPosition(t){const a=t.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(t){const a=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),l=this.setFromMatrixColumn(t,2).length();return this.x=a,this.y=s,this.z=l,this}setFromMatrixColumn(t,a){return this.fromArray(t.elements,a*4)}setFromMatrix3Column(t,a){return this.fromArray(t.elements,a*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,a=0){return this.x=t[a],this.y=t[a+1],this.z=t[a+2],this}toArray(t=[],a=0){return t[a]=this.x,t[a+1]=this.y,t[a+2]=this.z,t}fromBufferAttribute(t,a){return this.x=t.getX(a),this.y=t.getY(a),this.z=t.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,a=Math.random()*Math.PI*2,s=Math.sqrt(1-t**2);return this.x=s*Math.cos(a),this.y=s*Math.sin(a),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Gt=new gr,da=new Oh;class jr{constructor(t,a,s,l,c,p,y,g,b,d,m,z,w,M,_,N){jr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,a,s,l,c,p,y,g,b,d,m,z,w,M,_,N)}set(t,a,s,l,c,p,y,g,b,d,m,z,w,M,_,N){const R=this.elements;return R[0]=t,R[4]=a,R[8]=s,R[12]=l,R[1]=c,R[5]=p,R[9]=y,R[13]=g,R[2]=b,R[6]=d,R[10]=m,R[14]=z,R[3]=w,R[7]=M,R[11]=_,R[15]=N,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jr().fromArray(this.elements)}copy(t){const a=this.elements,s=t.elements;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],a[9]=s[9],a[10]=s[10],a[11]=s[11],a[12]=s[12],a[13]=s[13],a[14]=s[14],a[15]=s[15],this}copyPosition(t){const a=this.elements,s=t.elements;return a[12]=s[12],a[13]=s[13],a[14]=s[14],this}setFromMatrix3(t){const a=t.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(t,a,s){return t.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,a,s){return this.set(t.x,a.x,s.x,0,t.y,a.y,s.y,0,t.z,a.z,s.z,0,0,0,0,1),this}extractRotation(t){const a=this.elements,s=t.elements,l=1/Hr.setFromMatrixColumn(t,0).length(),c=1/Hr.setFromMatrixColumn(t,1).length(),p=1/Hr.setFromMatrixColumn(t,2).length();return a[0]=s[0]*l,a[1]=s[1]*l,a[2]=s[2]*l,a[3]=0,a[4]=s[4]*c,a[5]=s[5]*c,a[6]=s[6]*c,a[7]=0,a[8]=s[8]*p,a[9]=s[9]*p,a[10]=s[10]*p,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(t){const a=this.elements,s=t.x,l=t.y,c=t.z,p=Math.cos(s),y=Math.sin(s),g=Math.cos(l),b=Math.sin(l),d=Math.cos(c),m=Math.sin(c);if(t.order==="XYZ"){const z=p*d,w=p*m,M=y*d,_=y*m;a[0]=g*d,a[4]=-g*m,a[8]=b,a[1]=w+M*b,a[5]=z-_*b,a[9]=-y*g,a[2]=_-z*b,a[6]=M+w*b,a[10]=p*g}else if(t.order==="YXZ"){const z=g*d,w=g*m,M=b*d,_=b*m;a[0]=z+_*y,a[4]=M*y-w,a[8]=p*b,a[1]=p*m,a[5]=p*d,a[9]=-y,a[2]=w*y-M,a[6]=_+z*y,a[10]=p*g}else if(t.order==="ZXY"){const z=g*d,w=g*m,M=b*d,_=b*m;a[0]=z-_*y,a[4]=-p*m,a[8]=M+w*y,a[1]=w+M*y,a[5]=p*d,a[9]=_-z*y,a[2]=-p*b,a[6]=y,a[10]=p*g}else if(t.order==="ZYX"){const z=p*d,w=p*m,M=y*d,_=y*m;a[0]=g*d,a[4]=M*b-w,a[8]=z*b+_,a[1]=g*m,a[5]=_*b+z,a[9]=w*b-M,a[2]=-b,a[6]=y*g,a[10]=p*g}else if(t.order==="YZX"){const z=p*g,w=p*b,M=y*g,_=y*b;a[0]=g*d,a[4]=_-z*m,a[8]=M*m+w,a[1]=m,a[5]=p*d,a[9]=-y*d,a[2]=-b*d,a[6]=w*m+M,a[10]=z-_*m}else if(t.order==="XZY"){const z=p*g,w=p*b,M=y*g,_=y*b;a[0]=g*d,a[4]=-m,a[8]=b*d,a[1]=z*m+_,a[5]=p*d,a[9]=w*m-M,a[2]=M*m-w,a[6]=y*d,a[10]=_*m+z}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Qh,t,jh)}lookAt(t,a,s){const l=this.elements;return hr.subVectors(t,a),hr.lengthSq()===0&&(hr.z=1),hr.normalize(),yr.crossVectors(s,hr),yr.lengthSq()===0&&(Math.abs(s.z)===1?hr.x+=1e-4:hr.z+=1e-4,hr.normalize(),yr.crossVectors(s,hr)),yr.normalize(),ht.crossVectors(hr,yr),l[0]=yr.x,l[4]=ht.x,l[8]=hr.x,l[1]=yr.y,l[5]=ht.y,l[9]=hr.y,l[2]=yr.z,l[6]=ht.z,l[10]=hr.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,a){const s=t.elements,l=a.elements,c=this.elements,p=s[0],y=s[4],g=s[8],b=s[12],d=s[1],m=s[5],z=s[9],w=s[13],M=s[2],_=s[6],N=s[10],R=s[14],nr=s[3],ar=s[7],Q=s[11],j=s[15],A=l[0],Z=l[4],O=l[8],$r=l[12],_r=l[1],Cr=l[5],Sr=l[9],Er=l[13],Fr=l[2],Nr=l[6],Ar=l[10],wr=l[14],xr=l[3],Rr=l[7],Pr=l[11],Lr=l[15];return c[0]=p*A+y*_r+g*Fr+b*xr,c[4]=p*Z+y*Cr+g*Nr+b*Rr,c[8]=p*O+y*Sr+g*Ar+b*Pr,c[12]=p*$r+y*Er+g*wr+b*Lr,c[1]=d*A+m*_r+z*Fr+w*xr,c[5]=d*Z+m*Cr+z*Nr+w*Rr,c[9]=d*O+m*Sr+z*Ar+w*Pr,c[13]=d*$r+m*Er+z*wr+w*Lr,c[2]=M*A+_*_r+N*Fr+R*xr,c[6]=M*Z+_*Cr+N*Nr+R*Rr,c[10]=M*O+_*Sr+N*Ar+R*Pr,c[14]=M*$r+_*Er+N*wr+R*Lr,c[3]=nr*A+ar*_r+Q*Fr+j*xr,c[7]=nr*Z+ar*Cr+Q*Nr+j*Rr,c[11]=nr*O+ar*Sr+Q*Ar+j*Pr,c[15]=nr*$r+ar*Er+Q*wr+j*Lr,this}multiplyScalar(t){const a=this.elements;return a[0]*=t,a[4]*=t,a[8]*=t,a[12]*=t,a[1]*=t,a[5]*=t,a[9]*=t,a[13]*=t,a[2]*=t,a[6]*=t,a[10]*=t,a[14]*=t,a[3]*=t,a[7]*=t,a[11]*=t,a[15]*=t,this}determinant(){const t=this.elements,a=t[0],s=t[4],l=t[8],c=t[12],p=t[1],y=t[5],g=t[9],b=t[13],d=t[2],m=t[6],z=t[10],w=t[14],M=t[3],_=t[7],N=t[11],R=t[15];return M*(+c*g*m-l*b*m-c*y*z+s*b*z+l*y*w-s*g*w)+_*(+a*g*w-a*b*z+c*p*z-l*p*w+l*b*d-c*g*d)+N*(+a*b*m-a*y*w-c*p*m+s*p*w+c*y*d-s*b*d)+R*(-l*y*d-a*g*m+a*y*z+l*p*m-s*p*z+s*g*d)}transpose(){const t=this.elements;let a;return a=t[1],t[1]=t[4],t[4]=a,a=t[2],t[2]=t[8],t[8]=a,a=t[6],t[6]=t[9],t[9]=a,a=t[3],t[3]=t[12],t[12]=a,a=t[7],t[7]=t[13],t[13]=a,a=t[11],t[11]=t[14],t[14]=a,this}setPosition(t,a,s){const l=this.elements;return t.isVector3?(l[12]=t.x,l[13]=t.y,l[14]=t.z):(l[12]=t,l[13]=a,l[14]=s),this}invert(){const t=this.elements,a=t[0],s=t[1],l=t[2],c=t[3],p=t[4],y=t[5],g=t[6],b=t[7],d=t[8],m=t[9],z=t[10],w=t[11],M=t[12],_=t[13],N=t[14],R=t[15],nr=m*N*b-_*z*b+_*g*w-y*N*w-m*g*R+y*z*R,ar=M*z*b-d*N*b-M*g*w+p*N*w+d*g*R-p*z*R,Q=d*_*b-M*m*b+M*y*w-p*_*w-d*y*R+p*m*R,j=M*m*g-d*_*g-M*y*z+p*_*z+d*y*N-p*m*N,A=a*nr+s*ar+l*Q+c*j;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Z=1/A;return t[0]=nr*Z,t[1]=(_*z*c-m*N*c-_*l*w+s*N*w+m*l*R-s*z*R)*Z,t[2]=(y*N*c-_*g*c+_*l*b-s*N*b-y*l*R+s*g*R)*Z,t[3]=(m*g*c-y*z*c-m*l*b+s*z*b+y*l*w-s*g*w)*Z,t[4]=ar*Z,t[5]=(d*N*c-M*z*c+M*l*w-a*N*w-d*l*R+a*z*R)*Z,t[6]=(M*g*c-p*N*c-M*l*b+a*N*b+p*l*R-a*g*R)*Z,t[7]=(p*z*c-d*g*c+d*l*b-a*z*b-p*l*w+a*g*w)*Z,t[8]=Q*Z,t[9]=(M*m*c-d*_*c-M*s*w+a*_*w+d*s*R-a*m*R)*Z,t[10]=(p*_*c-M*y*c+M*s*b-a*_*b-p*s*R+a*y*R)*Z,t[11]=(d*y*c-p*m*c-d*s*b+a*m*b+p*s*w-a*y*w)*Z,t[12]=j*Z,t[13]=(d*_*l-M*m*l+M*s*z-a*_*z-d*s*N+a*m*N)*Z,t[14]=(M*y*l-p*_*l-M*s*g+a*_*g+p*s*N-a*y*N)*Z,t[15]=(p*m*l-d*y*l+d*s*g-a*m*g-p*s*z+a*y*z)*Z,this}scale(t){const a=this.elements,s=t.x,l=t.y,c=t.z;return a[0]*=s,a[4]*=l,a[8]*=c,a[1]*=s,a[5]*=l,a[9]*=c,a[2]*=s,a[6]*=l,a[10]*=c,a[3]*=s,a[7]*=l,a[11]*=c,this}getMaxScaleOnAxis(){const t=this.elements,a=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],l=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(a,s,l))}makeTranslation(t,a,s){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,a,0,0,1,s,0,0,0,1),this}makeRotationX(t){const a=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,a,-s,0,0,s,a,0,0,0,0,1),this}makeRotationY(t){const a=Math.cos(t),s=Math.sin(t);return this.set(a,0,s,0,0,1,0,0,-s,0,a,0,0,0,0,1),this}makeRotationZ(t){const a=Math.cos(t),s=Math.sin(t);return this.set(a,-s,0,0,s,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,a){const s=Math.cos(a),l=Math.sin(a),c=1-s,p=t.x,y=t.y,g=t.z,b=c*p,d=c*y;return this.set(b*p+s,b*y-l*g,b*g+l*y,0,b*y+l*g,d*y+s,d*g-l*p,0,b*g-l*y,d*g+l*p,c*g*g+s,0,0,0,0,1),this}makeScale(t,a,s){return this.set(t,0,0,0,0,a,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,a,s,l,c,p){return this.set(1,s,c,0,t,1,p,0,a,l,1,0,0,0,0,1),this}compose(t,a,s){const l=this.elements,c=a._x,p=a._y,y=a._z,g=a._w,b=c+c,d=p+p,m=y+y,z=c*b,w=c*d,M=c*m,_=p*d,N=p*m,R=y*m,nr=g*b,ar=g*d,Q=g*m,j=s.x,A=s.y,Z=s.z;return l[0]=(1-(_+R))*j,l[1]=(w+Q)*j,l[2]=(M-ar)*j,l[3]=0,l[4]=(w-Q)*A,l[5]=(1-(z+R))*A,l[6]=(N+nr)*A,l[7]=0,l[8]=(M+ar)*Z,l[9]=(N-nr)*Z,l[10]=(1-(z+_))*Z,l[11]=0,l[12]=t.x,l[13]=t.y,l[14]=t.z,l[15]=1,this}decompose(t,a,s){const l=this.elements;let c=Hr.set(l[0],l[1],l[2]).length();const p=Hr.set(l[4],l[5],l[6]).length(),y=Hr.set(l[8],l[9],l[10]).length();this.determinant()<0&&(c=-c),t.x=l[12],t.y=l[13],t.z=l[14],cr.copy(this);const b=1/c,d=1/p,m=1/y;return cr.elements[0]*=b,cr.elements[1]*=b,cr.elements[2]*=b,cr.elements[4]*=d,cr.elements[5]*=d,cr.elements[6]*=d,cr.elements[8]*=m,cr.elements[9]*=m,cr.elements[10]*=m,a.setFromRotationMatrix(cr),s.x=c,s.y=p,s.z=y,this}makePerspective(t,a,s,l,c,p,y=it){const g=this.elements,b=2*c/(a-t),d=2*c/(s-l),m=(a+t)/(a-t),z=(s+l)/(s-l);let w,M;if(y===it)w=-(p+c)/(p-c),M=-2*p*c/(p-c);else if(y===pa)w=-p/(p-c),M=-p*c/(p-c);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+y);return g[0]=b,g[4]=0,g[8]=m,g[12]=0,g[1]=0,g[5]=d,g[9]=z,g[13]=0,g[2]=0,g[6]=0,g[10]=w,g[14]=M,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(t,a,s,l,c,p,y=it){const g=this.elements,b=1/(a-t),d=1/(s-l),m=1/(p-c),z=(a+t)*b,w=(s+l)*d;let M,_;if(y===it)M=(p+c)*m,_=-2*m;else if(y===pa)M=c*m,_=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+y);return g[0]=2*b,g[4]=0,g[8]=0,g[12]=-z,g[1]=0,g[5]=2*d,g[9]=0,g[13]=-w,g[2]=0,g[6]=0,g[10]=_,g[14]=-M,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(t){const a=this.elements,s=t.elements;for(let l=0;l<16;l++)if(a[l]!==s[l])return!1;return!0}fromArray(t,a=0){for(let s=0;s<16;s++)this.elements[s]=t[s+a];return this}toArray(t=[],a=0){const s=this.elements;return t[a]=s[0],t[a+1]=s[1],t[a+2]=s[2],t[a+3]=s[3],t[a+4]=s[4],t[a+5]=s[5],t[a+6]=s[6],t[a+7]=s[7],t[a+8]=s[8],t[a+9]=s[9],t[a+10]=s[10],t[a+11]=s[11],t[a+12]=s[12],t[a+13]=s[13],t[a+14]=s[14],t[a+15]=s[15],t}}const Hr=new gr,cr=new jr,Qh=new gr(0,0,0),jh=new gr(1,1,1),yr=new gr,ht=new gr,hr=new gr;typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wa}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wa);new jr;var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jh={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(J,t){(function(a,s){J.exports=s()})(Uh,function(){for(var a=function(r,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),r<e?e:r>n?n:r},s=a,l=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=s(r[e],0,255)):e===3&&(r[e]=s(r[e],0,1));return r},c={},p=0,y=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];p<y.length;p+=1){var g=y[p];c["[object "+g+"]"]=g.toLowerCase()}var b=function(r){return c[Object.prototype.toString.call(r)]||"object"},d=b,m=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):d(r[0])=="object"&&e?e.split("").filter(function(n){return r[0][n]!==void 0}).map(function(n){return r[0][n]}):r[0]},z=b,w=function(r){if(r.length<2)return null;var e=r.length-1;return z(r[e])=="string"?r[e].toLowerCase():null},M=Math.PI,_={clip_rgb:l,limit:a,type:b,unpack:m,last:w,PI:M,TWOPI:M*2,PITHIRD:M/3,DEG2RAD:M/180,RAD2DEG:180/M},N={format:{},autodetect:[]},R=_.last,nr=_.clip_rgb,ar=_.type,Q=N,j=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this;if(ar(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var o=R(e),u=!1;if(!o){u=!0,Q.sorted||(Q.autodetect=Q.autodetect.sort(function(k,S){return S.p-k.p}),Q.sorted=!0);for(var h=0,f=Q.autodetect;h<f.length;h+=1){var v=f[h];if(o=v.test.apply(v,e),o)break}}if(Q.format[o]){var x=Q.format[o].apply(null,u?e:e.slice(0,-1));i._rgb=nr(x)}else throw new Error("unknown format: "+e);i._rgb.length===3&&i._rgb.push(1)};j.prototype.toString=function(){return ar(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var A=j,Z=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Z.Color,[null].concat(r)))};Z.Color=A,Z.version="2.4.2";var O=Z,$r=_.unpack,_r=Math.max,Cr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=$r(r,"rgb"),i=n[0],o=n[1],u=n[2];i=i/255,o=o/255,u=u/255;var h=1-_r(i,_r(o,u)),f=h<1?1/(1-h):0,v=(1-i-h)*f,x=(1-o-h)*f,k=(1-u-h)*f;return[v,x,k,h]},Sr=Cr,Er=_.unpack,Fr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Er(r,"cmyk");var n=r[0],i=r[1],o=r[2],u=r[3],h=r.length>4?r[4]:1;return u===1?[0,0,0,h]:[n>=1?0:255*(1-n)*(1-u),i>=1?0:255*(1-i)*(1-u),o>=1?0:255*(1-o)*(1-u),h]},Nr=Fr,Ar=O,wr=A,xr=N,Rr=_.unpack,Pr=_.type,Lr=Sr;wr.prototype.cmyk=function(){return Lr(this._rgb)},Ar.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(wr,[null].concat(r,["cmyk"])))},xr.format.cmyk=Nr,xr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Rr(r,"cmyk"),Pr(r)==="array"&&r.length===4)return"cmyk"}});var za=_.unpack,ka=_.last,ot=function(r){return Math.round(r*100)/100},Ma=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=za(r,"hsla"),i=ka(r)||"lsa";return n[0]=ot(n[0]||0),n[1]=ot(n[1]*100)+"%",n[2]=ot(n[2]*100)+"%",i==="hsla"||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,i="hsla"):n.length=3,i+"("+n.join(",")+")"},$a=Ma,Ca=_.unpack,Sa=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Ca(r,"rgba");var n=r[0],i=r[1],o=r[2];n/=255,i/=255,o/=255;var u=Math.min(n,i,o),h=Math.max(n,i,o),f=(h+u)/2,v,x;return h===u?(v=0,x=Number.NaN):v=f<.5?(h-u)/(h+u):(h-u)/(2-h-u),n==h?x=(i-o)/(h-u):i==h?x=2+(o-n)/(h-u):o==h&&(x=4+(n-i)/(h-u)),x*=60,x<0&&(x+=360),r.length>3&&r[3]!==void 0?[x,v,f,r[3]]:[x,v,f]},Xt=Sa,Ea=_.unpack,Fa=_.last,Na=$a,Aa=Xt,lt=Math.round,Ra=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Ea(r,"rgba"),i=Fa(r)||"rgb";return i.substr(0,3)=="hsl"?Na(Aa(n),i):(n[0]=lt(n[0]),n[1]=lt(n[1]),n[2]=lt(n[2]),(i==="rgba"||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,i="rgba"),i+"("+n.slice(0,i==="rgb"?3:4).join(",")+")")},Pa=Ra,La=_.unpack,ut=Math.round,Ta=function(){for(var r,e=[],n=arguments.length;n--;)e[n]=arguments[n];e=La(e,"hsl");var i=e[0],o=e[1],u=e[2],h,f,v;if(o===0)h=f=v=u*255;else{var x=[0,0,0],k=[0,0,0],S=u<.5?u*(1+o):u+o-u*o,$=2*u-S,F=i/360;x[0]=F+1/3,x[1]=F,x[2]=F-1/3;for(var E=0;E<3;E++)x[E]<0&&(x[E]+=1),x[E]>1&&(x[E]-=1),6*x[E]<1?k[E]=$+(S-$)*6*x[E]:2*x[E]<1?k[E]=S:3*x[E]<2?k[E]=$+(S-$)*(2/3-x[E])*6:k[E]=$;r=[ut(k[0]*255),ut(k[1]*255),ut(k[2]*255)],h=r[0],f=r[1],v=r[2]}return e.length>3?[h,f,v,e[3]]:[h,f,v,1]},Dt=Ta,Zt=Dt,Vt=N,Bt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ht=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Wt=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ot=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Qt=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,jt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ut=Math.round,Jt=function(r){r=r.toLowerCase().trim();var e;if(Vt.format.named)try{return Vt.format.named(r)}catch{}if(e=r.match(Bt)){for(var n=e.slice(1,4),i=0;i<3;i++)n[i]=+n[i];return n[3]=1,n}if(e=r.match(Ht)){for(var o=e.slice(1,5),u=0;u<4;u++)o[u]=+o[u];return o}if(e=r.match(Wt)){for(var h=e.slice(1,4),f=0;f<3;f++)h[f]=Ut(h[f]*2.55);return h[3]=1,h}if(e=r.match(Ot)){for(var v=e.slice(1,5),x=0;x<3;x++)v[x]=Ut(v[x]*2.55);return v[3]=+v[3],v}if(e=r.match(Qt)){var k=e.slice(1,4);k[1]*=.01,k[2]*=.01;var S=Zt(k);return S[3]=1,S}if(e=r.match(jt)){var $=e.slice(1,4);$[1]*=.01,$[2]*=.01;var F=Zt($);return F[3]=+e[4],F}};Jt.test=function(r){return Bt.test(r)||Ht.test(r)||Wt.test(r)||Ot.test(r)||Qt.test(r)||jt.test(r)};var qa=Jt,Ia=O,Kt=A,re=N,Ga=_.type,Ya=Pa,te=qa;Kt.prototype.css=function(r){return Ya(this._rgb,r)},Ia.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Kt,[null].concat(r,["css"])))},re.format.css=te,re.autodetect.push({p:5,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&Ga(r)==="string"&&te.test(r))return"css"}});var ee=A,Xa=O,Da=N,Za=_.unpack;Da.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Za(r,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},Xa.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ee,[null].concat(r,["gl"])))},ee.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var Va=_.unpack,Ba=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Va(r,"rgb"),i=n[0],o=n[1],u=n[2],h=Math.min(i,o,u),f=Math.max(i,o,u),v=f-h,x=v*100/255,k=h/(255-v)*100,S;return v===0?S=Number.NaN:(i===f&&(S=(o-u)/v),o===f&&(S=2+(u-i)/v),u===f&&(S=4+(i-o)/v),S*=60,S<0&&(S+=360)),[S,x,k]},Ha=Ba,Wa=_.unpack,Oa=Math.floor,Qa=function(){for(var r,e,n,i,o,u,h=[],f=arguments.length;f--;)h[f]=arguments[f];h=Wa(h,"hcg");var v=h[0],x=h[1],k=h[2],S,$,F;k=k*255;var E=x*255;if(x===0)S=$=F=k;else{v===360&&(v=0),v>360&&(v-=360),v<0&&(v+=360),v/=60;var L=Oa(v),I=v-L,Y=k*(1-x),D=Y+E*(1-I),tr=Y+E*I,rr=Y+E;switch(L){case 0:r=[rr,tr,Y],S=r[0],$=r[1],F=r[2];break;case 1:e=[D,rr,Y],S=e[0],$=e[1],F=e[2];break;case 2:n=[Y,rr,tr],S=n[0],$=n[1],F=n[2];break;case 3:i=[Y,D,rr],S=i[0],$=i[1],F=i[2];break;case 4:o=[tr,Y,rr],S=o[0],$=o[1],F=o[2];break;case 5:u=[rr,Y,D],S=u[0],$=u[1],F=u[2];break}}return[S,$,F,h.length>3?h[3]:1]},ja=Qa,Ua=_.unpack,Ja=_.type,Ka=O,ae=A,ne=N,rn=Ha;ae.prototype.hcg=function(){return rn(this._rgb)},Ka.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ae,[null].concat(r,["hcg"])))},ne.format.hcg=ja,ne.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ua(r,"hcg"),Ja(r)==="array"&&r.length===3)return"hcg"}});var tn=_.unpack,en=_.last,Ur=Math.round,an=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=tn(r,"rgba"),i=n[0],o=n[1],u=n[2],h=n[3],f=en(r)||"auto";h===void 0&&(h=1),f==="auto"&&(f=h<1?"rgba":"rgb"),i=Ur(i),o=Ur(o),u=Ur(u);var v=i<<16|o<<8|u,x="000000"+v.toString(16);x=x.substr(x.length-6);var k="0"+Ur(h*255).toString(16);switch(k=k.substr(k.length-2),f.toLowerCase()){case"rgba":return"#"+x+k;case"argb":return"#"+k+x;default:return"#"+x}},se=an,nn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,sn=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hn=function(r){if(r.match(nn)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),n=e>>16,i=e>>8&255,o=e&255;return[n,i,o,1]}if(r.match(sn)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var u=parseInt(r,16),h=u>>24&255,f=u>>16&255,v=u>>8&255,x=Math.round((u&255)/255*100)/100;return[h,f,v,x]}throw new Error("unknown hex color: "+r)},ie=hn,on=O,he=A,ln=_.type,oe=N,un=se;he.prototype.hex=function(r){return un(this._rgb,r)},on.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(he,[null].concat(r,["hex"])))},oe.format.hex=ie,oe.autodetect.push({p:4,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&ln(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var cn=_.unpack,le=_.TWOPI,fn=Math.min,vn=Math.sqrt,gn=Math.acos,bn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=cn(r,"rgb"),i=n[0],o=n[1],u=n[2];i/=255,o/=255,u/=255;var h,f=fn(i,o,u),v=(i+o+u)/3,x=v>0?1-f/v:0;return x===0?h=NaN:(h=(i-o+(i-u))/2,h/=vn((i-o)*(i-o)+(i-u)*(o-u)),h=gn(h),u>o&&(h=le-h),h/=le),[h*360,x,v]},pn=bn,dn=_.unpack,ct=_.limit,Tr=_.TWOPI,ft=_.PITHIRD,qr=Math.cos,mn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=dn(r,"hsi");var n=r[0],i=r[1],o=r[2],u,h,f;return isNaN(n)&&(n=0),isNaN(i)&&(i=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(f=(1-i)/3,u=(1+i*qr(Tr*n)/qr(ft-Tr*n))/3,h=1-(f+u)):n<2/3?(n-=1/3,u=(1-i)/3,h=(1+i*qr(Tr*n)/qr(ft-Tr*n))/3,f=1-(u+h)):(n-=2/3,h=(1-i)/3,f=(1+i*qr(Tr*n)/qr(ft-Tr*n))/3,u=1-(h+f)),u=ct(o*u*3),h=ct(o*h*3),f=ct(o*f*3),[u*255,h*255,f*255,r.length>3?r[3]:1]},yn=mn,_n=_.unpack,wn=_.type,xn=O,ue=A,ce=N,zn=pn;ue.prototype.hsi=function(){return zn(this._rgb)},xn.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ue,[null].concat(r,["hsi"])))},ce.format.hsi=yn,ce.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=_n(r,"hsi"),wn(r)==="array"&&r.length===3)return"hsi"}});var kn=_.unpack,Mn=_.type,$n=O,fe=A,ve=N,Cn=Xt;fe.prototype.hsl=function(){return Cn(this._rgb)},$n.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(fe,[null].concat(r,["hsl"])))},ve.format.hsl=Dt,ve.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=kn(r,"hsl"),Mn(r)==="array"&&r.length===3)return"hsl"}});var Sn=_.unpack,En=Math.min,Fn=Math.max,Nn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Sn(r,"rgb");var n=r[0],i=r[1],o=r[2],u=En(n,i,o),h=Fn(n,i,o),f=h-u,v,x,k;return k=h/255,h===0?(v=Number.NaN,x=0):(x=f/h,n===h&&(v=(i-o)/f),i===h&&(v=2+(o-n)/f),o===h&&(v=4+(n-i)/f),v*=60,v<0&&(v+=360)),[v,x,k]},An=Nn,Rn=_.unpack,Pn=Math.floor,Ln=function(){for(var r,e,n,i,o,u,h=[],f=arguments.length;f--;)h[f]=arguments[f];h=Rn(h,"hsv");var v=h[0],x=h[1],k=h[2],S,$,F;if(k*=255,x===0)S=$=F=k;else{v===360&&(v=0),v>360&&(v-=360),v<0&&(v+=360),v/=60;var E=Pn(v),L=v-E,I=k*(1-x),Y=k*(1-x*L),D=k*(1-x*(1-L));switch(E){case 0:r=[k,D,I],S=r[0],$=r[1],F=r[2];break;case 1:e=[Y,k,I],S=e[0],$=e[1],F=e[2];break;case 2:n=[I,k,D],S=n[0],$=n[1],F=n[2];break;case 3:i=[I,Y,k],S=i[0],$=i[1],F=i[2];break;case 4:o=[D,I,k],S=o[0],$=o[1],F=o[2];break;case 5:u=[k,I,Y],S=u[0],$=u[1],F=u[2];break}}return[S,$,F,h.length>3?h[3]:1]},Tn=Ln,qn=_.unpack,In=_.type,Gn=O,ge=A,be=N,Yn=An;ge.prototype.hsv=function(){return Yn(this._rgb)},Gn.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ge,[null].concat(r,["hsv"])))},be.format.hsv=Tn,be.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=qn(r,"hsv"),In(r)==="array"&&r.length===3)return"hsv"}});var Jr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ir=Jr,Xn=_.unpack,pe=Math.pow,Dn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Xn(r,"rgb"),i=n[0],o=n[1],u=n[2],h=Zn(i,o,u),f=h[0],v=h[1],x=h[2],k=116*v-16;return[k<0?0:k,500*(f-v),200*(v-x)]},vt=function(r){return(r/=255)<=.04045?r/12.92:pe((r+.055)/1.055,2.4)},gt=function(r){return r>Ir.t3?pe(r,1/3):r/Ir.t2+Ir.t0},Zn=function(r,e,n){r=vt(r),e=vt(e),n=vt(n);var i=gt((.4124564*r+.3575761*e+.1804375*n)/Ir.Xn),o=gt((.2126729*r+.7151522*e+.072175*n)/Ir.Yn),u=gt((.0193339*r+.119192*e+.9503041*n)/Ir.Zn);return[i,o,u]},de=Dn,Gr=Jr,Vn=_.unpack,Bn=Math.pow,Hn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Vn(r,"lab");var n=r[0],i=r[1],o=r[2],u,h,f,v,x,k;return h=(n+16)/116,u=isNaN(i)?h:h+i/500,f=isNaN(o)?h:h-o/200,h=Gr.Yn*pt(h),u=Gr.Xn*pt(u),f=Gr.Zn*pt(f),v=bt(3.2404542*u-1.5371385*h-.4985314*f),x=bt(-.969266*u+1.8760108*h+.041556*f),k=bt(.0556434*u-.2040259*h+1.0572252*f),[v,x,k,r.length>3?r[3]:1]},bt=function(r){return 255*(r<=.00304?12.92*r:1.055*Bn(r,1/2.4)-.055)},pt=function(r){return r>Gr.t1?r*r*r:Gr.t2*(r-Gr.t0)},me=Hn,Wn=_.unpack,On=_.type,Qn=O,ye=A,_e=N,jn=de;ye.prototype.lab=function(){return jn(this._rgb)},Qn.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ye,[null].concat(r,["lab"])))},_e.format.lab=me,_e.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Wn(r,"lab"),On(r)==="array"&&r.length===3)return"lab"}});var Un=_.unpack,Jn=_.RAD2DEG,Kn=Math.sqrt,rs=Math.atan2,ts=Math.round,es=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Un(r,"lab"),i=n[0],o=n[1],u=n[2],h=Kn(o*o+u*u),f=(rs(u,o)*Jn+360)%360;return ts(h*1e4)===0&&(f=Number.NaN),[i,h,f]},we=es,as=_.unpack,ns=de,ss=we,is=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=as(r,"rgb"),i=n[0],o=n[1],u=n[2],h=ns(i,o,u),f=h[0],v=h[1],x=h[2];return ss(f,v,x)},hs=is,os=_.unpack,ls=_.DEG2RAD,us=Math.sin,cs=Math.cos,fs=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=os(r,"lch"),i=n[0],o=n[1],u=n[2];return isNaN(u)&&(u=0),u=u*ls,[i,cs(u)*o,us(u)*o]},xe=fs,vs=_.unpack,gs=xe,bs=me,ps=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=vs(r,"lch");var n=r[0],i=r[1],o=r[2],u=gs(n,i,o),h=u[0],f=u[1],v=u[2],x=bs(h,f,v),k=x[0],S=x[1],$=x[2];return[k,S,$,r.length>3?r[3]:1]},ze=ps,ds=_.unpack,ms=ze,ys=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=ds(r,"hcl").reverse();return ms.apply(void 0,n)},_s=ys,ws=_.unpack,xs=_.type,ke=O,Kr=A,dt=N,Me=hs;Kr.prototype.lch=function(){return Me(this._rgb)},Kr.prototype.hcl=function(){return Me(this._rgb).reverse()},ke.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Kr,[null].concat(r,["lch"])))},ke.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Kr,[null].concat(r,["hcl"])))},dt.format.lch=ze,dt.format.hcl=_s,["lch","hcl"].forEach(function(r){return dt.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=ws(e,r),xs(e)==="array"&&e.length===3)return r}})});var zs={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},$e=zs,ks=A,Ce=N,Ms=_.type,Wr=$e,$s=ie,Cs=se;ks.prototype.name=function(){for(var r=Cs(this._rgb,"rgb"),e=0,n=Object.keys(Wr);e<n.length;e+=1){var i=n[e];if(Wr[i]===r)return i.toLowerCase()}return r},Ce.format.named=function(r){if(r=r.toLowerCase(),Wr[r])return $s(Wr[r]);throw new Error("unknown color name: "+r)},Ce.autodetect.push({p:5,test:function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&Ms(r)==="string"&&Wr[r.toLowerCase()])return"named"}});var Ss=_.unpack,Es=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Ss(r,"rgb"),i=n[0],o=n[1],u=n[2];return(i<<16)+(o<<8)+u},Fs=Es,Ns=_.type,As=function(r){if(Ns(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,n=r>>8&255,i=r&255;return[e,n,i,1]}throw new Error("unknown num color: "+r)},Rs=As,Ps=O,Se=A,Ee=N,Ls=_.type,Ts=Fs;Se.prototype.num=function(){return Ts(this._rgb)},Ps.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Se,[null].concat(r,["num"])))},Ee.format.num=Rs,Ee.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&Ls(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var qs=O,mt=A,Fe=N,Ne=_.unpack,Ae=_.type,Re=Math.round;mt.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Re)},mt.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?r===!1?e:Re(e):e})},qs.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(mt,[null].concat(r,["rgb"])))},Fe.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Ne(r,"rgba");return n[3]===void 0&&(n[3]=1),n},Fe.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ne(r,"rgba"),Ae(r)==="array"&&(r.length===3||r.length===4&&Ae(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var rt=Math.log,Is=function(r){var e=r/100,n,i,o;return e<66?(n=255,i=e<6?0:-155.25485562709179-.44596950469579133*(i=e-2)+104.49216199393888*rt(i),o=e<20?0:-254.76935184120902+.8274096064007395*(o=e-10)+115.67994401066147*rt(o)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*rt(n),i=325.4494125711974+.07943456536662342*(i=e-50)-28.0852963507957*rt(i),o=255),[n,i,o,1]},Pe=Is,Gs=Pe,Ys=_.unpack,Xs=Math.round,Ds=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var n=Ys(r,"rgb"),i=n[0],o=n[2],u=1e3,h=4e4,f=.4,v;h-u>f;){v=(h+u)*.5;var x=Gs(v);x[2]/x[0]>=o/i?h=v:u=v}return Xs(v)},Zs=Ds,yt=O,tt=A,_t=N,Vs=Zs;tt.prototype.temp=tt.prototype.kelvin=tt.prototype.temperature=function(){return Vs(this._rgb)},yt.temp=yt.kelvin=yt.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(tt,[null].concat(r,["temp"])))},_t.format.temp=_t.format.kelvin=_t.format.temperature=Pe;var Bs=_.unpack,wt=Math.cbrt,Hs=Math.pow,Ws=Math.sign,Os=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=Bs(r,"rgb"),i=n[0],o=n[1],u=n[2],h=[xt(i/255),xt(o/255),xt(u/255)],f=h[0],v=h[1],x=h[2],k=wt(.4122214708*f+.5363325363*v+.0514459929*x),S=wt(.2119034982*f+.6806995451*v+.1073969566*x),$=wt(.0883024619*f+.2817188376*v+.6299787005*x);return[.2104542553*k+.793617785*S-.0040720468*$,1.9779984951*k-2.428592205*S+.4505937099*$,.0259040371*k+.7827717662*S-.808675766*$]},Le=Os;function xt(r){var e=Math.abs(r);return e<.04045?r/12.92:(Ws(r)||1)*Hs((e+.055)/1.055,2.4)}var Qs=_.unpack,et=Math.pow,js=Math.sign,Us=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Qs(r,"lab");var n=r[0],i=r[1],o=r[2],u=et(n+.3963377774*i+.2158037573*o,3),h=et(n-.1055613458*i-.0638541728*o,3),f=et(n-.0894841775*i-1.291485548*o,3);return[255*zt(4.0767416621*u-3.3077115913*h+.2309699292*f),255*zt(-1.2684380046*u+2.6097574011*h-.3413193965*f),255*zt(-.0041960863*u-.7034186147*h+1.707614701*f),r.length>3?r[3]:1]},Te=Us;function zt(r){var e=Math.abs(r);return e>.0031308?(js(r)||1)*(1.055*et(e,1/2.4)-.055):r*12.92}var Js=_.unpack,Ks=_.type,ri=O,qe=A,Ie=N,ti=Le;qe.prototype.oklab=function(){return ti(this._rgb)},ri.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(qe,[null].concat(r,["oklab"])))},Ie.format.oklab=Te,Ie.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Js(r,"oklab"),Ks(r)==="array"&&r.length===3)return"oklab"}});var ei=_.unpack,ai=Le,ni=we,si=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var n=ei(r,"rgb"),i=n[0],o=n[1],u=n[2],h=ai(i,o,u),f=h[0],v=h[1],x=h[2];return ni(f,v,x)},ii=si,hi=_.unpack,oi=xe,li=Te,ui=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=hi(r,"lch");var n=r[0],i=r[1],o=r[2],u=oi(n,i,o),h=u[0],f=u[1],v=u[2],x=li(h,f,v),k=x[0],S=x[1],$=x[2];return[k,S,$,r.length>3?r[3]:1]},ci=ui,fi=_.unpack,vi=_.type,gi=O,Ge=A,Ye=N,bi=ii;Ge.prototype.oklch=function(){return bi(this._rgb)},gi.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ge,[null].concat(r,["oklch"])))},Ye.format.oklch=ci,Ye.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=fi(r,"oklch"),vi(r)==="array"&&r.length===3)return"oklch"}});var Xe=A,pi=_.type;Xe.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&pi(r)==="number"?e?(this._rgb[3]=r,this):new Xe([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var di=A;di.prototype.clipped=function(){return this._rgb._clipped||!1};var zr=A,mi=Jr;zr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,n=e.lab();return n[0]-=mi.Kn*r,new zr(n,"lab").alpha(e.alpha(),!0)},zr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},zr.prototype.darker=zr.prototype.darken,zr.prototype.brighter=zr.prototype.brighten;var yi=A;yi.prototype.get=function(r){var e=r.split("."),n=e[0],i=e[1],o=this[n]();if(i){var u=n.indexOf(i)-(n.substr(0,2)==="ok"?2:0);if(u>-1)return o[u];throw new Error("unknown channel "+i+" in mode "+n)}else return o};var Yr=A,_i=_.type,wi=Math.pow,xi=1e-7,zi=20;Yr.prototype.luminance=function(r){if(r!==void 0&&_i(r)==="number"){if(r===0)return new Yr([0,0,0,this._rgb[3]],"rgb");if(r===1)return new Yr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",i=zi,o=function(h,f){var v=h.interpolate(f,.5,n),x=v.luminance();return Math.abs(r-x)<xi||!i--?v:x>r?o(h,v):o(v,f)},u=(e>r?o(new Yr([0,0,0]),this):o(this,new Yr([255,255,255]))).rgb();return new Yr(u.concat([this._rgb[3]]))}return ki.apply(void 0,this._rgb.slice(0,3))};var ki=function(r,e,n){return r=kt(r),e=kt(e),n=kt(n),.2126*r+.7152*e+.0722*n},kt=function(r){return r/=255,r<=.03928?r/12.92:wi((r+.055)/1.055,2.4)},ir={},De=A,Ze=_.type,at=ir,Ve=function(r,e,n){n===void 0&&(n=.5);for(var i=[],o=arguments.length-3;o-- >0;)i[o]=arguments[o+3];var u=i[0]||"lrgb";if(!at[u]&&!i.length&&(u=Object.keys(at)[0]),!at[u])throw new Error("interpolation mode "+u+" is not defined");return Ze(r)!=="object"&&(r=new De(r)),Ze(e)!=="object"&&(e=new De(e)),at[u](r,e,n).alpha(r.alpha()+n*(e.alpha()-r.alpha()))},Be=A,Mi=Ve;Be.prototype.mix=Be.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return Mi.apply(void 0,[this,r,e].concat(n))};var He=A;He.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,n=e[3];return r?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new He([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var Mt=A,$i=Jr;Mt.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,n=e.lch();return n[1]+=$i.Kn*r,n[1]<0&&(n[1]=0),new Mt(n,"lch").alpha(e.alpha(),!0)},Mt.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var We=A,Oe=_.type;We.prototype.set=function(r,e,n){n===void 0&&(n=!1);var i=r.split("."),o=i[0],u=i[1],h=this[o]();if(u){var f=o.indexOf(u)-(o.substr(0,2)==="ok"?2:0);if(f>-1){if(Oe(e)=="string")switch(e.charAt(0)){case"+":h[f]+=+e;break;case"-":h[f]+=+e;break;case"*":h[f]*=+e.substr(1);break;case"/":h[f]/=+e.substr(1);break;default:h[f]=+e}else if(Oe(e)==="number")h[f]=e;else throw new Error("unsupported value for Color.set");var v=new We(h,o);return n?(this._rgb=v._rgb,this):v}throw new Error("unknown channel "+u+" in mode "+o)}else return h};var Ci=A,Si=function(r,e,n){var i=r._rgb,o=e._rgb;return new Ci(i[0]+n*(o[0]-i[0]),i[1]+n*(o[1]-i[1]),i[2]+n*(o[2]-i[2]),"rgb")};ir.rgb=Si;var Ei=A,$t=Math.sqrt,Xr=Math.pow,Fi=function(r,e,n){var i=r._rgb,o=i[0],u=i[1],h=i[2],f=e._rgb,v=f[0],x=f[1],k=f[2];return new Ei($t(Xr(o,2)*(1-n)+Xr(v,2)*n),$t(Xr(u,2)*(1-n)+Xr(x,2)*n),$t(Xr(h,2)*(1-n)+Xr(k,2)*n),"rgb")};ir.lrgb=Fi;var Ni=A,Ai=function(r,e,n){var i=r.lab(),o=e.lab();return new Ni(i[0]+n*(o[0]-i[0]),i[1]+n*(o[1]-i[1]),i[2]+n*(o[2]-i[2]),"lab")};ir.lab=Ai;var Qe=A,Dr=function(r,e,n,i){var o,u,h,f;i==="hsl"?(h=r.hsl(),f=e.hsl()):i==="hsv"?(h=r.hsv(),f=e.hsv()):i==="hcg"?(h=r.hcg(),f=e.hcg()):i==="hsi"?(h=r.hsi(),f=e.hsi()):i==="lch"||i==="hcl"?(i="hcl",h=r.hcl(),f=e.hcl()):i==="oklch"&&(h=r.oklch().reverse(),f=e.oklch().reverse());var v,x,k,S,$,F;(i.substr(0,1)==="h"||i==="oklch")&&(o=h,v=o[0],k=o[1],$=o[2],u=f,x=u[0],S=u[1],F=u[2]);var E,L,I,Y;return!isNaN(v)&&!isNaN(x)?(x>v&&x-v>180?Y=x-(v+360):x<v&&v-x>180?Y=x+360-v:Y=x-v,L=v+n*Y):isNaN(v)?isNaN(x)?L=Number.NaN:(L=x,($==1||$==0)&&i!="hsv"&&(E=S)):(L=v,(F==1||F==0)&&i!="hsv"&&(E=k)),E===void 0&&(E=k+n*(S-k)),I=$+n*(F-$),i==="oklch"?new Qe([I,E,L],i):new Qe([L,E,I],i)},Ri=Dr,je=function(r,e,n){return Ri(r,e,n,"lch")};ir.lch=je,ir.hcl=je;var Pi=A,Li=function(r,e,n){var i=r.num(),o=e.num();return new Pi(i+n*(o-i),"num")};ir.num=Li;var Ti=Dr,qi=function(r,e,n){return Ti(r,e,n,"hcg")};ir.hcg=qi;var Ii=Dr,Gi=function(r,e,n){return Ii(r,e,n,"hsi")};ir.hsi=Gi;var Yi=Dr,Xi=function(r,e,n){return Yi(r,e,n,"hsl")};ir.hsl=Xi;var Di=Dr,Zi=function(r,e,n){return Di(r,e,n,"hsv")};ir.hsv=Zi;var Vi=A,Bi=function(r,e,n){var i=r.oklab(),o=e.oklab();return new Vi(i[0]+n*(o[0]-i[0]),i[1]+n*(o[1]-i[1]),i[2]+n*(o[2]-i[2]),"oklab")};ir.oklab=Bi;var Hi=Dr,Wi=function(r,e,n){return Hi(r,e,n,"oklch")};ir.oklch=Wi;var Ct=A,Oi=_.clip_rgb,St=Math.pow,Et=Math.sqrt,Ft=Math.PI,Ue=Math.cos,Je=Math.sin,Qi=Math.atan2,ji=function(r,e,n){e===void 0&&(e="lrgb"),n===void 0&&(n=null);var i=r.length;n||(n=Array.from(new Array(i)).map(function(){return 1}));var o=i/n.reduce(function(L,I){return L+I});if(n.forEach(function(L,I){n[I]*=o}),r=r.map(function(L){return new Ct(L)}),e==="lrgb")return Ui(r,n);for(var u=r.shift(),h=u.get(e),f=[],v=0,x=0,k=0;k<h.length;k++)if(h[k]=(h[k]||0)*n[0],f.push(isNaN(h[k])?0:n[0]),e.charAt(k)==="h"&&!isNaN(h[k])){var S=h[k]/180*Ft;v+=Ue(S)*n[0],x+=Je(S)*n[0]}var $=u.alpha()*n[0];r.forEach(function(L,I){var Y=L.get(e);$+=L.alpha()*n[I+1];for(var D=0;D<h.length;D++)if(!isNaN(Y[D]))if(f[D]+=n[I+1],e.charAt(D)==="h"){var tr=Y[D]/180*Ft;v+=Ue(tr)*n[I+1],x+=Je(tr)*n[I+1]}else h[D]+=Y[D]*n[I+1]});for(var F=0;F<h.length;F++)if(e.charAt(F)==="h"){for(var E=Qi(x/f[F],v/f[F])/Ft*180;E<0;)E+=360;for(;E>=360;)E-=360;h[F]=E}else h[F]=h[F]/f[F];return $/=i,new Ct(h,e).alpha($>.99999?1:$,!0)},Ui=function(r,e){for(var n=r.length,i=[0,0,0,0],o=0;o<r.length;o++){var u=r[o],h=e[o]/n,f=u._rgb;i[0]+=St(f[0],2)*h,i[1]+=St(f[1],2)*h,i[2]+=St(f[2],2)*h,i[3]+=f[3]*h}return i[0]=Et(i[0]),i[1]=Et(i[1]),i[2]=Et(i[2]),i[3]>.9999999&&(i[3]=1),new Ct(Oi(i))},or=O,Zr=_.type,Ji=Math.pow,Nt=function(r){var e="rgb",n=or("#ccc"),i=0,o=[0,1],u=[],h=[0,0],f=!1,v=[],x=!1,k=0,S=1,$=!1,F={},E=!0,L=1,I=function(C){if(C=C||["#fff","#000"],C&&Zr(C)==="string"&&or.brewer&&or.brewer[C.toLowerCase()]&&(C=or.brewer[C.toLowerCase()]),Zr(C)==="array"){C.length===1&&(C=[C[0],C[0]]),C=C.slice(0);for(var P=0;P<C.length;P++)C[P]=or(C[P]);u.length=0;for(var q=0;q<C.length;q++)u.push(q/(C.length-1))}return sr(),v=C},Y=function(C){if(f!=null){for(var P=f.length-1,q=0;q<P&&C>=f[q];)q++;return q-1}return 0},D=function(C){return C},tr=function(C){return C},rr=function(C,P){var q,T;if(P==null&&(P=!1),isNaN(C)||C===null)return n;if(P)T=C;else if(f&&f.length>2){var er=Y(C);T=er/(f.length-2)}else S!==k?T=(C-k)/(S-k):T=1;T=tr(T),P||(T=D(T)),L!==1&&(T=Ji(T,L)),T=h[0]+T*(1-h[0]-h[1]),T=Math.min(1,Math.max(0,T));var W=Math.floor(T*1e4);if(E&&F[W])q=F[W];else{if(Zr(v)==="array")for(var X=0;X<u.length;X++){var V=u[X];if(T<=V){q=v[X];break}if(T>=V&&X===u.length-1){q=v[X];break}if(T>V&&T<u[X+1]){T=(T-V)/(u[X+1]-V),q=or.interpolate(v[X],v[X+1],T,e);break}}else Zr(v)==="function"&&(q=v(T));E&&(F[W]=q)}return q},sr=function(){return F={}};I(r);var G=function(C){var P=or(rr(C));return x&&P[x]?P[x]():P};return G.classes=function(C){if(C!=null){if(Zr(C)==="array")f=C,o=[C[0],C[C.length-1]];else{var P=or.analyze(o);C===0?f=[P.min,P.max]:f=or.limits(P,"e",C)}return G}return f},G.domain=function(C){if(!arguments.length)return o;k=C[0],S=C[C.length-1],u=[];var P=v.length;if(C.length===P&&k!==S)for(var q=0,T=Array.from(C);q<T.length;q+=1){var er=T[q];u.push((er-k)/(S-k))}else{for(var W=0;W<P;W++)u.push(W/(P-1));if(C.length>2){var X=C.map(function(B,H){return H/(C.length-1)}),V=C.map(function(B){return(B-k)/(S-k)});V.every(function(B,H){return X[H]===B})||(tr=function(B){if(B<=0||B>=1)return B;for(var H=0;B>=V[H+1];)H++;var ur=(B-V[H])/(V[H+1]-V[H]),dr=X[H]+ur*(X[H+1]-X[H]);return dr})}}return o=[k,S],G},G.mode=function(C){return arguments.length?(e=C,sr(),G):e},G.range=function(C,P){return I(C),G},G.out=function(C){return x=C,G},G.spread=function(C){return arguments.length?(i=C,G):i},G.correctLightness=function(C){return C==null&&(C=!0),$=C,sr(),$?D=function(P){for(var q=rr(0,!0).lab()[0],T=rr(1,!0).lab()[0],er=q>T,W=rr(P,!0).lab()[0],X=q+(T-q)*P,V=W-X,B=0,H=1,ur=20;Math.abs(V)>.01&&ur-- >0;)(function(){return er&&(V*=-1),V<0?(B=P,P+=(H-P)*.5):(H=P,P+=(B-P)*.5),W=rr(P,!0).lab()[0],V=W-X})();return P}:D=function(P){return P},G},G.padding=function(C){return C!=null?(Zr(C)==="number"&&(C=[C,C]),h=C,G):h},G.colors=function(C,P){arguments.length<2&&(P="hex");var q=[];if(arguments.length===0)q=v.slice(0);else if(C===1)q=[G(.5)];else if(C>1){var T=o[0],er=o[1]-T;q=Ki(0,C,!1).map(function(H){return G(T+H/(C-1)*er)})}else{r=[];var W=[];if(f&&f.length>2)for(var X=1,V=f.length,B=1<=V;B?X<V:X>V;B?X++:X--)W.push((f[X-1]+f[X])*.5);else W=o;q=W.map(function(H){return G(H)})}return or[P]&&(q=q.map(function(H){return H[P]()})),q},G.cache=function(C){return C!=null?(E=C,G):E},G.gamma=function(C){return C!=null?(L=C,G):L},G.nodata=function(C){return C!=null?(n=or(C),G):n},G};function Ki(r,e,n){for(var i=[],o=r<e,u=n?o?e+1:e-1:e,h=r;o?h<u:h>u;o?h++:h--)i.push(h);return i}var Or=A,rh=Nt,th=function(r){for(var e=[1,1],n=1;n<r;n++){for(var i=[1],o=1;o<=e.length;o++)i[o]=(e[o]||0)+e[o-1];e=i}return e},eh=function(r){var e,n,i,o,u,h,f;if(r=r.map(function($){return new Or($)}),r.length===2)e=r.map(function($){return $.lab()}),u=e[0],h=e[1],o=function($){var F=[0,1,2].map(function(E){return u[E]+$*(h[E]-u[E])});return new Or(F,"lab")};else if(r.length===3)n=r.map(function($){return $.lab()}),u=n[0],h=n[1],f=n[2],o=function($){var F=[0,1,2].map(function(E){return(1-$)*(1-$)*u[E]+2*(1-$)*$*h[E]+$*$*f[E]});return new Or(F,"lab")};else if(r.length===4){var v;i=r.map(function($){return $.lab()}),u=i[0],h=i[1],f=i[2],v=i[3],o=function($){var F=[0,1,2].map(function(E){return(1-$)*(1-$)*(1-$)*u[E]+3*(1-$)*(1-$)*$*h[E]+3*(1-$)*$*$*f[E]+$*$*$*v[E]});return new Or(F,"lab")}}else if(r.length>=5){var x,k,S;x=r.map(function($){return $.lab()}),S=r.length-1,k=th(S),o=function($){var F=1-$,E=[0,1,2].map(function(L){return x.reduce(function(I,Y,D){return I+k[D]*Math.pow(F,S-D)*Math.pow($,D)*Y[L]},0)});return new Or(E,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return o},ah=function(r){var e=eh(r);return e.scale=function(){return rh(e)},e},At=O,lr=function(r,e,n){if(!lr[n])throw new Error("unknown blend mode "+n);return lr[n](r,e)},br=function(r){return function(e,n){var i=At(n).rgb(),o=At(e).rgb();return At.rgb(r(i,o))}},pr=function(r){return function(e,n){var i=[];return i[0]=r(e[0],n[0]),i[1]=r(e[1],n[1]),i[2]=r(e[2],n[2]),i}},nh=function(r){return r},sh=function(r,e){return r*e/255},ih=function(r,e){return r>e?e:r},hh=function(r,e){return r>e?r:e},oh=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},lh=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},uh=function(r,e){return 255*(1-(1-e/255)/(r/255))},ch=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};lr.normal=br(pr(nh)),lr.multiply=br(pr(sh)),lr.screen=br(pr(oh)),lr.overlay=br(pr(lh)),lr.darken=br(pr(ih)),lr.lighten=br(pr(hh)),lr.dodge=br(pr(ch)),lr.burn=br(pr(uh));for(var fh=lr,Rt=_.type,vh=_.clip_rgb,gh=_.TWOPI,bh=Math.pow,ph=Math.sin,dh=Math.cos,Ke=O,mh=function(r,e,n,i,o){r===void 0&&(r=300),e===void 0&&(e=-1.5),n===void 0&&(n=1),i===void 0&&(i=1),o===void 0&&(o=[0,1]);var u=0,h;Rt(o)==="array"?h=o[1]-o[0]:(h=0,o=[o,o]);var f=function(v){var x=gh*((r+120)/360+e*v),k=bh(o[0]+h*v,i),S=u!==0?n[0]+v*u:n,$=S*k*(1-k)/2,F=dh(x),E=ph(x),L=k+$*(-.14861*F+1.78277*E),I=k+$*(-.29227*F-.90649*E),Y=k+$*(1.97294*F);return Ke(vh([L*255,I*255,Y*255,1]))};return f.start=function(v){return v==null?r:(r=v,f)},f.rotations=function(v){return v==null?e:(e=v,f)},f.gamma=function(v){return v==null?i:(i=v,f)},f.hue=function(v){return v==null?n:(n=v,Rt(n)==="array"?(u=n[1]-n[0],u===0&&(n=n[1])):u=0,f)},f.lightness=function(v){return v==null?o:(Rt(v)==="array"?(o=v,h=v[1]-v[0]):(o=[v,v],h=0),f)},f.scale=function(){return Ke.scale(f)},f.hue(n),f},yh=A,_h="0123456789abcdef",wh=Math.floor,xh=Math.random,zh=function(){for(var r="#",e=0;e<6;e++)r+=_h.charAt(wh(xh()*16));return new yh(r,"hex")},Pt=b,ra=Math.log,kh=Math.pow,Mh=Math.floor,$h=Math.abs,ta=function(r,e){e===void 0&&(e=null);var n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Pt(r)==="object"&&(r=Object.values(r)),r.forEach(function(i){e&&Pt(i)==="object"&&(i=i[e]),i!=null&&!isNaN(i)&&(n.values.push(i),n.sum+=i,i<n.min&&(n.min=i),i>n.max&&(n.max=i),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(i,o){return ea(n,i,o)},n},ea=function(r,e,n){e===void 0&&(e="equal"),n===void 0&&(n=7),Pt(r)=="array"&&(r=ta(r));var i=r.min,o=r.max,u=r.values.sort(function(Tt,qt){return Tt-qt});if(n===1)return[i,o];var h=[];if(e.substr(0,1)==="c"&&(h.push(i),h.push(o)),e.substr(0,1)==="e"){h.push(i);for(var f=1;f<n;f++)h.push(i+f/n*(o-i));h.push(o)}else if(e.substr(0,1)==="l"){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");var v=Math.LOG10E*ra(i),x=Math.LOG10E*ra(o);h.push(i);for(var k=1;k<n;k++)h.push(kh(10,v+k/n*(x-v)));h.push(o)}else if(e.substr(0,1)==="q"){h.push(i);for(var S=1;S<n;S++){var $=(u.length-1)*S/n,F=Mh($);if(F===$)h.push(u[F]);else{var E=$-F;h.push(u[F]*(1-E)+u[F+1]*E)}}h.push(o)}else if(e.substr(0,1)==="k"){var L,I=u.length,Y=new Array(I),D=new Array(n),tr=!0,rr=0,sr=null;sr=[],sr.push(i);for(var G=1;G<n;G++)sr.push(i+G/n*(o-i));for(sr.push(o);tr;){for(var C=0;C<n;C++)D[C]=0;for(var P=0;P<I;P++)for(var q=u[P],T=Number.MAX_VALUE,er=void 0,W=0;W<n;W++){var X=$h(sr[W]-q);X<T&&(T=X,er=W),D[er]++,Y[P]=er}for(var V=new Array(n),B=0;B<n;B++)V[B]=null;for(var H=0;H<I;H++)L=Y[H],V[L]===null?V[L]=u[H]:V[L]+=u[H];for(var ur=0;ur<n;ur++)V[ur]*=1/D[ur];tr=!1;for(var dr=0;dr<n;dr++)if(V[dr]!==sr[dr]){tr=!0;break}sr=V,rr++,rr>200&&(tr=!1)}for(var mr={},Vr=0;Vr<n;Vr++)mr[Vr]=[];for(var Br=0;Br<I;Br++)L=Y[Br],mr[L].push(u[Br]);for(var vr=[],kr=0;kr<n;kr++)vr.push(mr[kr][0]),vr.push(mr[kr][mr[kr].length-1]);vr=vr.sort(function(Tt,qt){return Tt-qt}),h.push(vr[0]);for(var Qr=1;Qr<vr.length;Qr+=2){var Mr=vr[Qr];!isNaN(Mr)&&h.indexOf(Mr)===-1&&h.push(Mr)}}return h},aa={analyze:ta,limits:ea},na=A,Ch=function(r,e){r=new na(r),e=new na(e);var n=r.luminance(),i=e.luminance();return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},sa=A,fr=Math.sqrt,U=Math.pow,Sh=Math.min,Eh=Math.max,ia=Math.atan2,ha=Math.abs,nt=Math.cos,oa=Math.sin,Fh=Math.exp,la=Math.PI,Nh=function(r,e,n,i,o){n===void 0&&(n=1),i===void 0&&(i=1),o===void 0&&(o=1);var u=function(Mr){return 360*Mr/(2*la)},h=function(Mr){return 2*la*Mr/360};r=new sa(r),e=new sa(e);var f=Array.from(r.lab()),v=f[0],x=f[1],k=f[2],S=Array.from(e.lab()),$=S[0],F=S[1],E=S[2],L=(v+$)/2,I=fr(U(x,2)+U(k,2)),Y=fr(U(F,2)+U(E,2)),D=(I+Y)/2,tr=.5*(1-fr(U(D,7)/(U(D,7)+U(25,7)))),rr=x*(1+tr),sr=F*(1+tr),G=fr(U(rr,2)+U(k,2)),C=fr(U(sr,2)+U(E,2)),P=(G+C)/2,q=u(ia(k,rr)),T=u(ia(E,sr)),er=q>=0?q:q+360,W=T>=0?T:T+360,X=ha(er-W)>180?(er+W+360)/2:(er+W)/2,V=1-.17*nt(h(X-30))+.24*nt(h(2*X))+.32*nt(h(3*X+6))-.2*nt(h(4*X-63)),B=W-er;B=ha(B)<=180?B:W<=er?B+360:B-360,B=2*fr(G*C)*oa(h(B)/2);var H=$-v,ur=C-G,dr=1+.015*U(L-50,2)/fr(20+U(L-50,2)),mr=1+.045*P,Vr=1+.015*P*V,Br=30*Fh(-U((X-275)/25,2)),vr=2*fr(U(P,7)/(U(P,7)+U(25,7))),kr=-vr*oa(2*h(Br)),Qr=fr(U(H/(n*dr),2)+U(ur/(i*mr),2)+U(B/(o*Vr),2)+kr*(ur/(i*mr))*(B/(o*Vr)));return Eh(0,Sh(100,Qr))},ua=A,Ah=function(r,e,n){n===void 0&&(n="lab"),r=new ua(r),e=new ua(e);var i=r.get(n),o=e.get(n),u=0;for(var h in i){var f=(i[h]||0)-(o[h]||0);u+=f*f}return Math.sqrt(u)},Rh=A,Ph=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(Rh,[null].concat(r))),!0}catch{return!1}},ca=O,fa=Nt,Lh={cool:function(){return fa([ca.hsl(180,1,.9),ca.hsl(250,.7,.4)])},hot:function(){return fa(["#000","#f00","#ff0","#fff"]).mode("rgb")}},st={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Lt=0,va=Object.keys(st);Lt<va.length;Lt+=1){var ga=va[Lt];st[ga.toLowerCase()]=st[ga]}var Th=st,K=O;K.average=ji,K.bezier=ah,K.blend=fh,K.cubehelix=mh,K.mix=K.interpolate=Ve,K.random=zh,K.scale=Nt,K.analyze=aa.analyze,K.contrast=Ch,K.deltaE=Nh,K.distance=Ah,K.limits=aa.limits,K.valid=Ph,K.scales=Lh,K.colors=$e,K.brewer=Th;var qh=K;return qh})})(Jh);class Kh extends ma{constructor(t){super(),ya(this,t,null,null,_a,{})}}function ro(J){let t,a;return t=new Kh({}),{c(){Gh(t.$$.fragment)},l(s){Yh(t.$$.fragment,s)},m(s,l){Xh(t,s,l),a=!0},p:Dh,i(s){a||(Zh(t.$$.fragment,s),a=!0)},o(s){Vh(t.$$.fragment,s),a=!1},d(s){Bh(t,s)}}}function to(J){return Hh(()=>console.log("%c page.svelte loaded","background: #228")),[]}class no extends ma{constructor(t){super(),ya(this,t,to,ro,_a,{})}}export{no as component};
